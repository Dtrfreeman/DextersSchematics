Version 4
SHEET 1 1336 680
WIRE 656 -80 544 -80
WIRE 976 0 912 0
WIRE 1120 0 976 0
WIRE 1120 16 1120 0
WIRE 656 32 656 -80
WIRE 656 32 608 32
WIRE 976 32 976 0
WIRE 240 80 240 64
WIRE 592 80 304 80
WIRE 656 80 656 32
WIRE 896 80 816 80
WIRE 16 144 0 144
WIRE 80 144 80 80
WIRE 160 160 128 160
WIRE 736 192 736 80
WIRE 752 192 736 192
WIRE 240 208 240 80
WIRE 304 208 304 80
WIRE 464 208 304 208
WIRE 832 208 816 208
WIRE 848 208 832 208
WIRE 928 208 912 208
WIRE -32 224 -128 224
WIRE 304 224 304 208
WIRE 592 224 592 80
WIRE 656 224 592 224
WIRE 752 224 736 224
WIRE -128 240 -128 224
WIRE 80 240 80 144
WIRE 160 240 80 240
WIRE 448 240 416 240
WIRE 464 240 448 240
WIRE 928 240 928 208
WIRE 896 272 896 80
WIRE 976 272 976 256
WIRE 976 272 896 272
WIRE 448 304 448 240
WIRE 528 304 528 224
WIRE 736 304 736 224
WIRE 896 304 816 304
WIRE 128 352 128 160
WIRE 160 352 128 352
WIRE 896 352 896 304
WIRE 976 352 896 352
WIRE 528 432 528 304
WIRE 528 432 288 432
WIRE 608 448 608 32
WIRE 816 448 608 448
FLAG -128 144 0
FLAG -128 64 vdd
IOPIN -128 64 BiDir
FLAG -128 320 0
FLAG 272 192 vdd
IOPIN 272 192 BiDir
FLAG 496 192 vdd
IOPIN 496 192 BiDir
FLAG 416 320 0
FLAG 784 240 0
FLAG 784 176 vdd
IOPIN 784 176 BiDir
FLAG 1120 96 0
FLAG 544 0 0
FLAG 976 416 0
FLAG -32 224 vss
IOPIN -32 224 BiDir
FLAG 272 256 vss
IOPIN 272 256 BiDir
FLAG 496 256 vss
IOPIN 496 256 BiDir
FLAG 16 224 0
FLAG 240 320 0
FLAG 160 448 0
SYMBOL voltage -128 48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 9
SYMBOL voltage -128 224 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value -9
SYMBOL cap 304 64 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL res 256 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL res 144 64 R0
SYMATTR InstName R2
SYMATTR Value 20k
SYMBOL res 176 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 100k
SYMBOL res 256 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL res 256 336 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL nmos 208 352 M0
SYMATTR InstName M1
SYMATTR Value 2N7002
SYMBOL Opamps\\OP07 496 160 R0
SYMATTR InstName U2
SYMBOL res 304 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL res 544 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 100k
SYMBOL res 400 224 R0
SYMATTR InstName R9
SYMATTR Value 100k
SYMBOL res 960 256 R0
SYMATTR InstName R10
SYMATTR Value 1k
SYMBOL LED 1024 208 R0
WINDOW 3 194 -8 Left 2
SYMATTR Value NSCW100
SYMATTR InstName D1
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL LED 960 96 R0
SYMATTR InstName D2
SYMATTR Value NSCW100
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL LED 960 32 R0
SYMATTR InstName D3
SYMATTR Value NSCW100
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL voltage 1120 0 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 9
SYMBOL res 752 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 100k
SYMBOL res 752 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 100k
SYMBOL res 832 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 100k
SYMBOL res 832 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 100k
SYMBOL voltage 544 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 3.3
SYMBOL Opamps\\AD549 784 144 R0
SYMATTR InstName U4
SYMBOL res 928 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 10k
SYMBOL nmos 928 160 R0
SYMATTR InstName M2
SYMATTR Value 2N7002
SYMBOL LED 960 352 R0
WINDOW 0 64 5 Left 2
SYMATTR InstName D4
SYMATTR Value NSCW100
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL voltage 16 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value {Vctrl}
SYMBOL res 96 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 100k
SYMBOL Opamps\\AD549 272 160 R0
SYMATTR InstName U3
TEXT -200 520 Left 2 !.tran 3 startup
TEXT -168 376 Left 2 !.step param Vctrl 1 9 1
