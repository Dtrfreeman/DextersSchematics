Version 4
SHEET 1 1012 1172
WIRE -16 48 -128 48
WIRE 128 48 128 -16
WIRE 176 48 128 48
WIRE 256 48 256 -16
WIRE 448 48 256 48
WIRE 128 96 128 48
WIRE 160 96 128 96
WIRE 256 112 256 48
WIRE 256 112 224 112
WIRE -16 128 -16 48
WIRE 160 128 -16 128
WIRE 448 224 448 48
WIRE 592 224 592 160
WIRE 592 224 528 224
WIRE 640 224 592 224
WIRE 720 224 720 160
WIRE 592 272 592 224
WIRE 624 272 592 272
WIRE 720 288 720 224
WIRE 720 288 688 288
WIRE 800 288 720 288
WIRE 960 288 880 288
WIRE 976 288 960 288
WIRE 528 304 448 304
WIRE 448 544 -80 544
WIRE -80 736 -80 544
WIRE -352 800 -464 800
WIRE -208 800 -208 736
WIRE -160 800 -208 800
WIRE -80 800 -80 736
WIRE -208 848 -208 800
WIRE -176 848 -208 848
WIRE -80 864 -80 800
WIRE -80 864 -112 864
WIRE -352 880 -352 800
WIRE -176 880 -352 880
WIRE 448 880 448 544
WIRE 560 960 448 960
WIRE 256 976 256 912
WIRE 304 976 256 976
WIRE 384 976 384 912
WIRE 256 1024 256 976
WIRE 288 1024 256 1024
WIRE 384 1040 384 976
WIRE 384 1040 352 1040
WIRE 448 1040 384 1040
WIRE 464 1040 448 1040
WIRE -352 1056 -352 880
WIRE 288 1056 -352 1056
FLAG 192 -192 0
FLAG -160 -368 0
FLAG -64 -368 0
FLAG -64 -448 Vdd
IOPIN -64 -448 BiDir
FLAG 192 80 Vdd
IOPIN 192 80 BiDir
FLAG 192 144 Vss
IOPIN 192 144 BiDir
FLAG -160 -448 Vss
IOPIN -160 -448 BiDir
FLAG -128 128 0
FLAG 48 -64 0
FLAG 192 -176 0
FLAG 656 -16 0
FLAG 656 256 Vdd
IOPIN 656 256 BiDir
FLAG 656 320 Vss
IOPIN 656 320 BiDir
FLAG 512 112 0
FLAG 656 0 0
FLAG 624 304 0
FLAG 960 352 0
FLAG 880 352 0
FLAG -144 560 0
FLAG -144 832 Vdd
IOPIN -144 832 BiDir
FLAG -144 896 Vss
IOPIN -144 896 BiDir
FLAG -464 880 0
FLAG -288 688 0
FLAG -144 576 0
FLAG 320 736 0
FLAG 320 1008 Vdd
IOPIN 320 1008 BiDir
FLAG 320 1072 Vss
IOPIN 320 1072 BiDir
FLAG 176 864 0
FLAG 320 752 0
SYMBOL Opamps\\UniversalOpamp2 192 112 R0
WINDOW 0 26 20 Left 2
SYMATTR InstName U1
SYMBOL cap 256 -32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 -20 -6 VTop 2
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL cap 192 -32 R90
WINDOW 0 -5 39 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 10n
SYMBOL res 208 0 R180
WINDOW 0 36 76 Left 2
WINDOW 3 -37 80 Left 2
SYMATTR InstName R2
SYMATTR Value 100
SYMBOL voltage -160 -464 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value -9
SYMBOL voltage -64 -464 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 9
SYMBOL voltage -128 32 R0
WINDOW 3 -186 177 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 5 10m 0.01m 0.01m 1m 1)
SYMBOL res 272 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10000k
SYMBOL npn 128 -96 M180
WINDOW 3 79 68 Left 2
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL res 144 -160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 100k
SYMBOL voltage 48 -160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value {Vctrl}
SYMBOL res 176 -192 R0
SYMATTR InstName R4
SYMATTR Value 2k
SYMBOL Opamps\\UniversalOpamp2 656 288 R0
WINDOW 0 26 20 Left 2
SYMATTR InstName U2
SYMBOL cap 720 144 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 -20 -6 VTop 2
SYMATTR InstName C3
SYMATTR Value 4n7
SYMBOL cap 656 144 R90
WINDOW 0 -5 39 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 4n7
SYMBOL res 672 176 R180
WINDOW 0 36 76 Left 2
WINDOW 3 -37 80 Left 2
SYMATTR InstName R5
SYMATTR Value 100
SYMBOL res 736 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10000k
SYMBOL npn 592 80 M180
WINDOW 3 79 68 Left 2
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL res 608 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 100k
SYMBOL voltage 512 16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value {Vctrl}
SYMBOL res 640 -16 R0
SYMATTR InstName R8
SYMATTR Value 2k
SYMBOL res 512 208 R0
SYMATTR InstName R11
SYMATTR Value 10000k
SYMBOL res 432 208 R0
SYMATTR InstName R9
SYMATTR Value 3300k
SYMBOL res 896 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL LED 864 288 R0
SYMATTR InstName D1
SYMATTR Value QTLP690C
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL LED 976 352 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value QTLP690C
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL Opamps\\UniversalOpamp2 -144 864 R0
WINDOW 0 26 20 Left 2
SYMATTR InstName U3
SYMBOL cap -80 720 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 -20 -6 VTop 2
SYMATTR InstName C5
SYMATTR Value 10n
SYMBOL cap -144 720 R90
WINDOW 0 -5 39 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 10n
SYMBOL res -128 752 R180
WINDOW 0 36 76 Left 2
WINDOW 3 -37 80 Left 2
SYMATTR InstName R12
SYMATTR Value 100
SYMBOL voltage -464 784 R0
WINDOW 3 -186 177 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value PULSE(0 5 10m 0.01m 0.01m 1m 1)
SYMBOL res -64 784 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 10000k
SYMBOL npn -208 656 M180
WINDOW 3 79 68 Left 2
SYMATTR InstName Q3
SYMATTR Value 2N3904
SYMBOL res -192 592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 100k
SYMBOL voltage -288 592 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value {Vctrl}
SYMBOL res -160 560 R0
SYMATTR InstName R15
SYMATTR Value 2k
SYMBOL Opamps\\UniversalOpamp2 320 1040 R0
WINDOW 0 26 20 Left 2
SYMATTR InstName U4
SYMBOL cap 384 896 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 -20 -6 VTop 2
SYMATTR InstName C7
SYMATTR Value 4n7
SYMBOL cap 320 896 R90
WINDOW 0 -5 39 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value 4n7
SYMBOL res 336 928 R180
WINDOW 0 36 76 Left 2
WINDOW 3 -37 80 Left 2
SYMATTR InstName R16
SYMATTR Value 100
SYMBOL res 400 960 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 10000k
SYMBOL npn 256 832 M180
WINDOW 3 79 68 Left 2
SYMATTR InstName Q4
SYMATTR Value 2N3904
SYMBOL res 272 768 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 100k
SYMBOL voltage 176 768 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value {Vctrl}
SYMBOL res 304 736 R0
SYMATTR InstName R19
SYMATTR Value 2k
SYMBOL res 432 944 R0
SYMATTR InstName R20
SYMATTR Value 10k
SYMBOL res 432 864 R0
SYMATTR InstName R21
SYMATTR Value 10k
TEXT -202 -166 Left 2 !.tran 1
TEXT 432 -56 Left 2 !.step param Vctrl 1 9 1
